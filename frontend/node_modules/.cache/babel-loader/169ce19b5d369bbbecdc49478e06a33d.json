{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"MyEditor\",\n  props: {\n    id: {\n      type: Number,\n      required: false\n    }\n  },\n\n  data() {\n    return {\n      workout: null,\n      part_of_body: null,\n      memo: null,\n      body_items: [\"腹筋\", \"腕\", \"背中\", \"胸\", \"脚\", \"肩\"]\n    };\n  },\n\n  methods: {\n    onSubmit() {\n      let endpoint = `/api/workouts/${this.id}/`;\n      let method = \"PUT\";\n      apiService(endpoint, method, {\n        workout: this.workout,\n        part_of_body: this.part_of_body,\n        memo: this.memo\n      }).then(workout_data => {\n        this.$router.push({\n          name: \"workout\",\n          params: {\n            id: workout_data.id\n          }\n        });\n      });\n    }\n\n  },\n\n  async beforeRouteEnter(to, from, next) {\n    if (to.params.id !== undefined) {\n      let endpoint = `/api/workouts/${to.params.id}/`;\n      let data = await apiService(endpoint);\n      return next(vm => {\n        vm.workout = data.workout, vm.part_of_body = data.part_of_body, vm.memo = data.memo;\n      });\n    } else {\n      return next();\n    }\n  },\n\n  created() {\n    document.title = \"Edit - workout\";\n  }\n\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AAEA;EACAA,gBADA;EAEAC;IACAC;MACAC,YADA;MAEAC;IAFA;EADA,CAFA;;EAQAC;IACA;MACAC,aADA;MAEAC,kBAFA;MAGAC,UAHA;MAIAC;IAJA;EAMA,CAfA;;EAgBAC;IACAC;MACA;MACA;MACAC;QACAN,qBADA;QAEAC,+BAFA;QAGAC;MAHA,GAIAK,IAJA,CAIAC;QACA;UACAd,eADA;UAEAe;YAAAb;UAAA;QAFA;MAIA,CATA;IAUA;;EAdA,CAhBA;;EAgCA;IACA;MACA;MACA;MACA;QACAc,2BACAA,mCADA,EAEAA,mBAFA;MAGA,CAJA;IAKA,CARA,MAQA;MACA;IACA;EACA,CA5CA;;EA6CAC;IACAC;EACA;;AA/CA","names":["name","props","id","type","required","data","workout","part_of_body","memo","body_items","methods","onSubmit","apiService","then","workout_data","params","vm","created","document"],"sourceRoot":"src/views","sources":["MyWorkoutEditor.vue"],"sourcesContent":["<template>\n  <div>\n    <v-container style=\"size: 150px\">\n      <form @submit.prevent=\"onSubmit\">\n        <v-select v-model=\"part_of_body\" label=\"部位\" :items=\"body_items\">\n        </v-select>\n\n        <v-text-field\n          v-model=\"workout\"\n          label=\"メニュー\"\n          required\n        ></v-text-field>\n\n        <v-textarea v-model=\"memo\" label=\"メモ\"></v-textarea>\n        <v-btn\n          color=\"primary\"\n          :to=\"{ name: 'workout', params: { id: this.id } }\"\n          text\n          >戻る</v-btn\n        >\n        <v-btn color=\"primary\" type=\"submit\">保存</v-btn>\n      </form>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport { apiService } from \"../common/api.service.js\";\n\nexport default {\n  name: \"MyEditor\",\n  props: {\n    id: {\n      type: Number,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      workout: null,\n      part_of_body: null,\n      memo: null,\n      body_items: [\"腹筋\", \"腕\", \"背中\", \"胸\", \"脚\", \"肩\"],\n    };\n  },\n  methods: {\n    onSubmit() {\n      let endpoint = `/api/workouts/${this.id}/`;\n      let method = \"PUT\";\n      apiService(endpoint, method, {\n        workout: this.workout,\n        part_of_body: this.part_of_body,\n        memo: this.memo,\n      }).then((workout_data) => {\n        this.$router.push({\n          name: \"workout\",\n          params: { id: workout_data.id },\n        });\n      });\n    },\n  },\n  async beforeRouteEnter(to, from, next) {\n    if (to.params.id !== undefined) {\n      let endpoint = `/api/workouts/${to.params.id}/`;\n      let data = await apiService(endpoint);\n      return next((vm) => {\n        (vm.workout = data.workout),\n          (vm.part_of_body = data.part_of_body),\n          (vm.memo = data.memo);\n      });\n    } else {\n      return next();\n    }\n  },\n  created() {\n    document.title = \"Edit - workout\";\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}