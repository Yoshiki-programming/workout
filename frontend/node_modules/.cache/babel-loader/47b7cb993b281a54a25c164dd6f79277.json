{"ast":null,"code":"import _toConsumableArray from \"/Users/yoshiki_work/\\u30DB\\u309A\\u30FC\\u30C8\\u30D5\\u30A9\\u30EA\\u30AA/workout/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.number.constructor.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { apiService } from \"../common/api.service.js\";\nimport { Bar } from \"vue-chartjs\";\nexport default {\n  name: \"MyGraph\",\n  extends: Bar,\n  props: {\n    id: {\n      type: Number,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      data: {\n        labels: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\"],\n        datasets: [{\n          label: \"Bar Dataset\",\n          data: [10, 20, 30, 40, 50, 30],\n          backgroundColor: [\"rgba(255, 99, 132, 0.2)\", \"rgba(54, 162, 235, 0.2)\", \"rgba(255, 206, 86, 0.2)\", \"rgba(75, 192, 192, 0.2)\", \"rgba(153, 102, 255, 0.2)\", \"rgba(255, 159, 64, 0.2)\"],\n          borderColor: [\"rgba(255, 99, 132, 1)\", \"rgba(54, 162, 235, 1)\", \"rgba(255, 206, 86, 1)\", \"rgba(75, 192, 192, 1)\", \"rgba(153, 102, 255, 1)\", \"rgba(255, 159, 64, 1)\"],\n          borderWidth: 1\n        }, {\n          label: \"Line Dataset\",\n          data: [10, 50, 20, 30, 30, 40],\n          borderColor: \"#CFD8DC\",\n          fill: false,\n          type: \"line\",\n          lineTension: 0.3\n        }]\n      },\n      workoutrecords: [],\n      workout_id: null,\n      weight: null,\n      reps: null,\n      date: null,\n      memo: null,\n      next: null,\n      loading: false,\n      name: null\n    };\n  },\n  methods: {\n    getWorkoutRecords: function getWorkoutRecords() {\n      var _this = this;\n\n      var endpoint = \"/api/workout-records/\".concat(this.id, \"/\");\n\n      if (this.next) {\n        endpoint = this.next;\n      }\n\n      this.loading = true;\n      apiService(endpoint).then(function (data) {\n        var _this$workoutrecords;\n\n        (_this$workoutrecords = _this.workoutrecords).push.apply(_this$workoutrecords, _toConsumableArray(data.results));\n\n        _this.loading = false;\n\n        if (data.next) {\n          _this.next = data.next;\n        } else {\n          _this.next = null;\n        }\n\n        console.log(_this.workoutrecords);\n      });\n    }\n  },\n  created: function created() {\n    this.getWorkoutRecords(); // console.log(\"record\", this.workoutrecords);\n    // console.log(\"id:\", this.id);\n  },\n  mounted: function mounted() {\n    this.renderChart(this.data, this.options);\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;EACAA,eADA;EAEAC,YAFA;EAGAC;IACAC;MACAC,YADA;MAEAC;IAFA;EADA,CAHA;EASAC,IATA,kBASA;IACA;MACAA;QACAC,gEADA;QAEAC,WACA;UACAC,oBADA;UAEAH,8BAFA;UAGAI,kBACA,yBADA,EAEA,yBAFA,EAGA,yBAHA,EAIA,yBAJA,EAKA,0BALA,EAMA,yBANA,CAHA;UAWAC,cACA,uBADA,EAEA,uBAFA,EAGA,uBAHA,EAIA,uBAJA,EAKA,wBALA,EAMA,uBANA,CAXA;UAmBAC;QAnBA,CADA,EAsBA;UACAH,qBADA;UAEAH,8BAFA;UAGAK,sBAHA;UAIAE,WAJA;UAKAT,YALA;UAMAU;QANA,CAtBA;MAFA,CADA;MAmCAC,kBAnCA;MAoCAC,gBApCA;MAqCAC,YArCA;MAsCAC,UAtCA;MAuCAC,UAvCA;MAwCAC,UAxCA;MAyCAC,UAzCA;MA0CAC,cA1CA;MA2CAtB;IA3CA;EA6CA,CAvDA;EAwDAuB;IACAC,iBADA,+BACA;MAAA;;MACA;;MACA;QACAC;MACA;;MACA;MACAC;QAAA;;QACA;;QACA;;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;;QACAC;MACA,CATA;IAUA;EAjBA,CAxDA;EA2EAC,OA3EA,qBA2EA;IACA,yBADA,CAEA;IACA;EACA,CA/EA;EAgFAC,OAhFA,qBAgFA;IACA;EACA;AAlFA","names":["name","extends","props","id","type","required","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","fill","lineTension","workoutrecords","workout_id","weight","reps","date","memo","next","loading","methods","getWorkoutRecords","endpoint","apiService","console","created","mounted"],"sourceRoot":"src/views","sources":["MyGraph.vue"],"sourcesContent":["<template>\n  <div>\n    <v-main>\n      <v-card outlined class=\"mx-2\">\n        <div>{{ this.id }}</div>\n        <chart></chart>\n      </v-card>\n      <v-row justify=\"center\">\n        <v-btn\n          v-if=\"this.workoutrecords[0]\"\n          :to=\"{\n            name: 'MyRecord',\n            params: { id: this.id },\n          }\"\n          color=\"primary\"\n          text\n          class=\"mx-2 my-5\"\n          >戻る\n        </v-btn>\n      </v-row>\n    </v-main>\n  </div>\n</template>\n\n<script>\nimport { apiService } from \"../common/api.service.js\";\nimport { Bar } from \"vue-chartjs\";\nexport default {\n  name: \"MyGraph\",\n  extends: Bar,\n  props: {\n    id: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      data: {\n        labels: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\"],\n        datasets: [\n          {\n            label: \"Bar Dataset\",\n            data: [10, 20, 30, 40, 50, 30],\n            backgroundColor: [\n              \"rgba(255, 99, 132, 0.2)\",\n              \"rgba(54, 162, 235, 0.2)\",\n              \"rgba(255, 206, 86, 0.2)\",\n              \"rgba(75, 192, 192, 0.2)\",\n              \"rgba(153, 102, 255, 0.2)\",\n              \"rgba(255, 159, 64, 0.2)\",\n            ],\n            borderColor: [\n              \"rgba(255, 99, 132, 1)\",\n              \"rgba(54, 162, 235, 1)\",\n              \"rgba(255, 206, 86, 1)\",\n              \"rgba(75, 192, 192, 1)\",\n              \"rgba(153, 102, 255, 1)\",\n              \"rgba(255, 159, 64, 1)\",\n            ],\n            borderWidth: 1,\n          },\n          {\n            label: \"Line Dataset\",\n            data: [10, 50, 20, 30, 30, 40],\n            borderColor: \"#CFD8DC\",\n            fill: false,\n            type: \"line\",\n            lineTension: 0.3,\n          },\n        ],\n      },\n      workoutrecords: [],\n      workout_id: null,\n      weight: null,\n      reps: null,\n      date: null,\n      memo: null,\n      next: null,\n      loading: false,\n      name: null,\n    };\n  },\n  methods: {\n    getWorkoutRecords() {\n      let endpoint = `/api/workout-records/${this.id}/`;\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loading = true;\n      apiService(endpoint).then((data) => {\n        this.workoutrecords.push(...data.results);\n        this.loading = false;\n        if (data.next) {\n          this.next = data.next;\n        } else {\n          this.next = null;\n        }\n        console.log(this.workoutrecords);\n      });\n    },\n  },\n  created() {\n    this.getWorkoutRecords();\n    // console.log(\"record\", this.workoutrecords);\n    // console.log(\"id:\", this.id);\n  },\n  mounted() {\n    this.renderChart(this.data, this.options);\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}