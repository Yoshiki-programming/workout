{"ast":null,"code":"import _asyncToGenerator from \"/Users/yoshiki_work/\\u30DB\\u309A\\u30FC\\u30C8\\u30D5\\u30A9\\u30EA\\u30AA/workout/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"/Users/yoshiki_work/\\u30DB\\u309A\\u30FC\\u30C8\\u30D5\\u30A9\\u30EA\\u30AA/workout/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.map.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport LineChart from \"./LineChart.vue\";\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"BarChart\",\n  components: {\n    LineChart: LineChart\n  },\n  props: {\n    id: {\n      type: Number,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      message: this.id,\n      loading: false,\n      chartData: null\n    };\n  },\n  methods: {\n    getWorkoutRecords: function getWorkoutRecords() {\n      var _this = this;\n\n      this.loading = false;\n      var endpoint = \"/api/workout-records/\".concat(this.val, \"/\");\n\n      if (this.next) {\n        endpoint = this.next;\n      }\n\n      this.loading = true;\n      apiService(endpoint).then(function (data) {\n        var _this$chartData, _this$chartData2;\n\n        (_this$chartData = _this.chartData).push.apply(_this$chartData, _toConsumableArray(data.results.map(function (obj) {\n          return obj.weight;\n        }).reverse()));\n\n        (_this$chartData2 = _this.chartData).push.apply(_this$chartData2, _toConsumableArray(data.results.map(function (obj) {\n          return obj.weight;\n        }).reverse()));\n\n        console.log(_this.chartData);\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this2.getWorkoutRecords();\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;EACAA,gBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC;MACAC,YADA;MAEAC;IAFA;EADA,CALA;EAWAC,IAXA,kBAWA;IACA;MACAC,gBADA;MAEAC,cAFA;MAGAC;IAHA;EAKA,CAjBA;EAkBAC;IACAC,iBADA,+BACA;MAAA;;MACA;MACA;;MACA;QACAC;MACA;;MACA;MACAC;QAAA;;QACA;UAAA;QAAA;;QACA;UAAA;QAAA;;QACAC;MACA,CAJA;IAKA;EAbA,CAlBA;EAiCAC,OAjCA,qBAiCA;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cACA;;YADA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAEA;AAnCA","names":["name","components","LineChart","props","id","type","required","data","message","loading","chartData","methods","getWorkoutRecords","endpoint","apiService","console","mounted"],"sourceRoot":"src/views","sources":["MyGraph.vue"],"sourcesContent":["<template>\n  <div>\n    <v-row justify=\"center\">\n      <div>トレーニングの回数と重量のグラフ</div>\n    </v-row>\n    <v-card class=\"my-5 mx-2\" color=\"#fbfbfd\" elevation=\"5\">\n      <line-chart v-if=\"loading\" :chartdata=\"chartdata\" :options=\"options\" />\n    </v-card>\n    <v-row justify=\"center\">\n      <v-btn\n        :to=\"{\n          name: 'MyRecord',\n          params: { id: this.id },\n        }\"\n        color=\"primary\"\n        text\n        class=\"mx-2 my-5\"\n        >戻る\n      </v-btn>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport LineChart from \"./LineChart.vue\";\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"BarChart\",\n  components: {\n    LineChart,\n  },\n  props: {\n    id: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      message: this.id,\n      loading: false,\n      chartData: null,\n    };\n  },\n  methods: {\n    getWorkoutRecords() {\n      this.loading = false;\n      let endpoint = `/api/workout-records/${this.val}/`;\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loading = true;\n      apiService(endpoint).then((data) => {\n        this.chartData.push(...data.results.map((obj) => obj.weight).reverse());\n        this.chartData.push(...data.results.map((obj) => obj.weight).reverse());\n        console.log(this.chartData);\n      });\n    },\n  },\n  async mounted() {\n    this.getWorkoutRecords();\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}