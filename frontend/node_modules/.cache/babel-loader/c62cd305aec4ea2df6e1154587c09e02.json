{"ast":null,"code":"import _asyncToGenerator from \"/Users/yoshiki_work/\\u30DB\\u309A\\u30FC\\u30C8\\u30D5\\u30A9\\u30EA\\u30AA/workout/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.number.constructor.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"MyWorkout\",\n  props: {\n    id: {\n      type: Number,\n      required: true,\n      workout: null,\n      part_of_body: null,\n      memo: null\n    }\n  },\n  data: function data() {\n    return {\n      workout: {}\n    };\n  },\n  methods: {\n    setPageTitle: function setPageTitle(title) {\n      document.title = title;\n    },\n    getWorkoutData: function getWorkoutData() {\n      var _this = this;\n\n      var endpoint = \"/api/workouts/\".concat(this.id, \"/\");\n      apiService(endpoint).then(function (data) {\n        _this.workout = data;\n\n        _this.setPageTitle(data.workout);\n      });\n    },\n    onSubmit: function onSubmit() {\n      var _this2 = this;\n\n      var endpoint = \"/api/workouts/\".concat(this.id, \"/\");\n      var method = \"POST\";\n\n      if (this.id !== undefined) {\n        endpoint += \"\".concat(this.id, \"/\");\n        method = \"PUT\";\n      }\n\n      apiService(endpoint, method, {\n        workout: this.workout,\n        part_of_body: this.part_of_body,\n        memo: this.memo\n      }).then(function (workout_data) {\n        _this2.$router.push({\n          name: \"workout\",\n          params: {\n            id: workout_data.id\n          }\n        });\n      });\n    }\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var endpoint, data;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(to.params.id !== undefined)) {\n                _context.next = 8;\n                break;\n              }\n\n              endpoint = \"/api/workout/\".concat(to.params.id, \"/\");\n              _context.next = 4;\n              return apiService(endpoint);\n\n            case 4:\n              data = _context.sent;\n              return _context.abrupt(\"return\", next(function (vm) {\n                vm.workout = data.workout, vm.part_of_body = data.part_of_body, vm.memo = data.memo;\n              }));\n\n            case 8:\n              return _context.abrupt(\"return\", next());\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  created: function created() {\n    this.getWorkoutData();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAmBA;AAEA;EACAA,iBADA;EAEAC;IACAC;MACAC,YADA;MAEAC,cAFA;MAGAC,aAHA;MAIAC,kBAJA;MAKAC;IALA;EADA,CAFA;EAWAC,IAXA,kBAWA;IACA;MACAH;IADA;EAGA,CAfA;EAgBAI;IACAC,YADA,wBACAC,KADA,EACA;MACAC;IACA,CAHA;IAIAC,cAJA,4BAIA;MAAA;;MACA;MACAC;QACA;;QACA;MACA,CAHA;IAIA,CAVA;IAWAC,QAXA,sBAWA;MAAA;;MACA;MACA;;MACA;QACAC;QACAC;MACA;;MACAH;QACAT,qBADA;QAEAC,+BAFA;QAGAC;MAHA,GAIAW,IAJA,CAIA;QACA;UACAlB,eADA;UAEAmB;YAAAjB;UAAA;QAFA;MAIA,CATA;IAUA;EA5BA,CAhBA;EA8CAkB,gBA9CA,4BA8CAC,EA9CA,EA8CAC,IA9CA,EA8CAC,IA9CA,EA8CA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA,MACAF,0BADA;gBAAA;gBAAA;cAAA;;cAEAL,QAFA,0BAEAK,YAFA;cAAA;cAAA,OAGAP,oBAHA;;YAAA;cAGAN,IAHA;cAAA,iCAIAe;gBACAC,2BACAA,mCADA,EAEAA,mBAFA;cAGA,CAJA,CAJA;;YAAA;cAAA,iCAUAD,MAVA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAYA,CA1DA;EA2DAE,OA3DA,qBA2DA;IACA;EACA;AA7DA","names":["name","props","id","type","required","workout","part_of_body","memo","data","methods","setPageTitle","title","document","getWorkoutData","apiService","onSubmit","endpoint","method","then","params","beforeRouteEnter","to","from","next","vm","created"],"sourceRoot":"src/views","sources":["MyWorkout.vue"],"sourcesContent":["<template>\n  <div>\n    <v-container>\n      <h2 class=\"mb-5\">{{ workout.workout }}</h2>\n      <p>BODY PART：{{ workout.part_of_body }}</p>\n      <p>MEMO：{{ workout.memo }}</p>\n    </v-container>\n    <v-btn to=\"/workout-records\">RECORD</v-btn>\n    <v-btn\n      color=\"success\"\n      class=\"mr-2\"\n      :to=\"{ name: 'workout', params: { id: workout.id } }\"\n      >EDIT WORKOUT</v-btn\n    >\n    <v-btn to=\"/\">DELETE WORKOUT</v-btn>\n  </div>\n</template>\n\n<script>\nimport { apiService } from \"../common/api.service.js\";\n\nexport default {\n  name: \"MyWorkout\",\n  props: {\n    id: {\n      type: Number,\n      required: true,\n      workout: null,\n      part_of_body: null,\n      memo: null,\n    },\n  },\n  data() {\n    return {\n      workout: {},\n    };\n  },\n  methods: {\n    setPageTitle(title) {\n      document.title = title;\n    },\n    getWorkoutData() {\n      let endpoint = `/api/workouts/${this.id}/`;\n      apiService(endpoint).then((data) => {\n        this.workout = data;\n        this.setPageTitle(data.workout);\n      });\n    },\n    onSubmit() {\n      let endpoint = `/api/workouts/${this.id}/`;\n      let method = \"POST\";\n      if (this.id !== undefined) {\n        endpoint += `${this.id}/`;\n        method = \"PUT\";\n      }\n      apiService(endpoint, method, {\n        workout: this.workout,\n        part_of_body: this.part_of_body,\n        memo: this.memo,\n      }).then((workout_data) => {\n        this.$router.push({\n          name: \"workout\",\n          params: { id: workout_data.id },\n        });\n      });\n    },\n  },\n  async beforeRouteEnter(to, from, next) {\n    if (to.params.id !== undefined) {\n      let endpoint = `/api/workout/${to.params.id}/`;\n      let data = await apiService(endpoint);\n      return next((vm) => {\n        (vm.workout = data.workout),\n          (vm.part_of_body = data.part_of_body),\n          (vm.memo = data.memo);\n      });\n    } else {\n      return next();\n    }\n  },\n  created() {\n    this.getWorkoutData();\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module"}