{"ast":null,"code":"import _toConsumableArray from \"/Users/yoshiki_work/\\u30DB\\u309A\\u30FC\\u30C8\\u30D5\\u30A9\\u30EA\\u30AA/workout/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { Bar, mixins } from \"vue-chartjs\";\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  extends: Bar,\n  mixins: [mixins.reactiveData],\n  name: \"MyChart\",\n  props: {\n    val: {\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      weightData: [],\n      chartData: {\n        labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20],\n        datasets: [{\n          label: \"Bar Dataset\",\n          data: [],\n          backgroundColor: [\"rgba(255, 99, 132, 0.2)\", \"rgba(54, 162, 235, 0.2)\", \"rgba(255, 206, 86, 0.2)\", \"rgba(75, 192, 192, 0.2)\", \"rgba(153, 102, 255, 0.2)\", \"rgba(255, 159, 64, 0.2)\"],\n          borderWidth: 1\n        }, {\n          label: \"回数\",\n          data: [],\n          borderColor: \"#CFD8DC\",\n          fill: false,\n          type: \"line\",\n          lineTension: 0.3\n        }]\n      },\n      options: {\n        scales: {\n          xAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: \"1セットあたりの回数(過去20セット)\"\n            }\n          }],\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              stepSize: 10\n            }\n          }]\n        }\n      }\n    };\n  },\n  methods: {\n    getWorkoutRecords: function getWorkoutRecords() {\n      var _this = this;\n\n      var endpoint = \"/api/workout-records/\".concat(this.val, \"/\");\n\n      if (this.next) {\n        endpoint = this.next;\n      }\n\n      this.loading = true;\n      apiService(endpoint).then(function (data) {\n        var _this$weightData, _this$chartData$datas;\n\n        (_this$weightData = _this.weightData).push.apply(_this$weightData, _toConsumableArray(data.results));\n\n        _this.weightData = _this.weightData.map(function (obj) {\n          return obj.weight;\n        }).reverse();\n        _this.loading = false;\n\n        (_this$chartData$datas = _this.chartData.datasets[0].data).push.apply(_this$chartData$datas, _toConsumableArray(_this.weightData));\n\n        console.log(_this.chartData.datasets[0].data);\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getWorkoutRecords();\n    this.renderChart(this.chartData, this.options);\n  }\n};","map":{"version":3,"mappings":";;;AACA;AACA;AAEA;EACAA,YADA;EAEAC,6BAFA;EAGAC,eAHA;EAIAC;IACAC;MACAC;IADA;EADA,CAJA;EASAC,IATA,kBASA;IACA;MACAC,cADA;MAEAC;QACAC,SACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,CADA;QAIAC,WACA;UACAC,oBADA;UAEAL,QAFA;UAGAM,kBACA,yBADA,EAEA,yBAFA,EAGA,yBAHA,EAIA,yBAJA,EAKA,0BALA,EAMA,yBANA,CAHA;UAWAC;QAXA,CADA,EAcA;UACAF,WADA;UAEAL,QAFA;UAGAQ,sBAHA;UAIAC,WAJA;UAKAV,YALA;UAMAW;QANA,CAdA;MAJA,CAFA;MA8BAC;QACAC;UACAC,QACA;YACAC;cACAC,aADA;cAEAC;YAFA;UADA,CADA,CADA;UASAC,QACA;YACAC;cACAC,iBADA;cAEAC;YAFA;UADA,CADA;QATA;MADA;IA9BA;EAmDA,CA7DA;EA8DAC;IACAC,iBADA,+BACA;MAAA;;MACA;;MACA;QACAC;MACA;;MACA;MACAC;QAAA;;QACA;;QACA;UAAA;QAAA;QACA;;QACA;;QACAC;MACA,CANA;IAOA;EAdA,CA9DA;EA8EAC,OA9EA,qBA8EA;IACA;IACA;EACA;AAjFA","names":["extends","mixins","name","props","val","type","data","weightData","chartData","labels","datasets","label","backgroundColor","borderWidth","borderColor","fill","lineTension","options","scales","xAxes","scaleLabel","display","labelString","yAxes","ticks","beginAtZero","stepSize","methods","getWorkoutRecords","endpoint","apiService","console","mounted"],"sourceRoot":"src/views","sources":["WeightChart.vue"],"sourcesContent":["<script>\nimport { Bar, mixins } from \"vue-chartjs\";\nimport { apiService } from \"../common/api.service.js\";\n\nexport default {\n  extends: Bar,\n  mixins: [mixins.reactiveData],\n  name: \"MyChart\",\n  props: {\n    val: {\n      type: Number,\n    },\n  },\n  data() {\n    return {\n      weightData: [],\n      chartData: {\n        labels: [\n          1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,\n        ],\n        datasets: [\n          {\n            label: \"Bar Dataset\",\n            data: [],\n            backgroundColor: [\n              \"rgba(255, 99, 132, 0.2)\",\n              \"rgba(54, 162, 235, 0.2)\",\n              \"rgba(255, 206, 86, 0.2)\",\n              \"rgba(75, 192, 192, 0.2)\",\n              \"rgba(153, 102, 255, 0.2)\",\n              \"rgba(255, 159, 64, 0.2)\",\n            ],\n            borderWidth: 1,\n          },\n          {\n            label: \"回数\",\n            data: [],\n            borderColor: \"#CFD8DC\",\n            fill: false,\n            type: \"line\",\n            lineTension: 0.3,\n          },\n        ],\n      },\n      options: {\n        scales: {\n          xAxes: [\n            {\n              scaleLabel: {\n                display: true,\n                labelString: \"1セットあたりの回数(過去20セット)\",\n              },\n            },\n          ],\n          yAxes: [\n            {\n              ticks: {\n                beginAtZero: true,\n                stepSize: 10,\n              },\n            },\n          ],\n        },\n      },\n    };\n  },\n  methods: {\n    getWorkoutRecords() {\n      let endpoint = `/api/workout-records/${this.val}/`;\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loading = true;\n      apiService(endpoint).then((data) => {\n        this.weightData.push(...data.results);\n        this.weightData = this.weightData.map((obj) => obj.weight).reverse();\n        this.loading = false;\n        this.chartData.datasets[0].data.push(...this.weightData);\n        console.log(this.chartData.datasets[0].data);\n      });\n    },\n  },\n  mounted() {\n    this.getWorkoutRecords();\n    this.renderChart(this.chartData, this.options);\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}