{"ast":null,"code":"import _toConsumableArray from \"/Users/yoshiki_work/\\u30DB\\u309A\\u30FC\\u30C8\\u30D5\\u30A9\\u30EA\\u30AA/workout/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { Bar, mixins } from \"vue-chartjs\";\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  extends: Bar,\n  mixins: [mixins.reactiveData],\n  name: \"MyChart\",\n  props: {\n    val: {\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      weightData: [],\n      chartData: {\n        labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20],\n        datasets: [{\n          label: \"Bar Dataset\",\n          data: this.weightData,\n          backgroundColor: [\"rgba(255, 99, 132, 0.2)\", \"rgba(54, 162, 235, 0.2)\", \"rgba(255, 206, 86, 0.2)\", \"rgba(75, 192, 192, 0.2)\", \"rgba(153, 102, 255, 0.2)\", \"rgba(255, 159, 64, 0.2)\"],\n          borderWidth: 1\n        }]\n      },\n      options: {\n        scales: {\n          xAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: \"1セットあたりの回数(過去20セット)\"\n            }\n          }],\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              stepSize: 10\n            }\n          }]\n        }\n      }\n    };\n  },\n  methods: {\n    getWorkoutRecords: function getWorkoutRecords() {\n      var _this = this;\n\n      var endpoint = \"/api/workout-records/\".concat(this.val, \"/\");\n\n      if (this.next) {\n        endpoint = this.next;\n      }\n\n      this.loading = true;\n      apiService(endpoint).then(function (data) {\n        var _this$chartData$datas;\n\n        (_this$chartData$datas = _this.chartData.datasets[1].data).push.apply(_this$chartData$datas, _toConsumableArray(data.results.map(function (obj) {\n          return obj.weight;\n        }).reverse())); // console.log(this.chartData.datasets[1].data);\n\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.renderChart(this.chartData, this.options);\n    this.getWorkoutRecords();\n  }\n};","map":{"version":3,"mappings":";;;AACA;AACA;AAEA;EACAA,YADA;EAEAC,6BAFA;EAGAC,eAHA;EAIAC;IACAC;MACAC;IADA;EADA,CAJA;EASAC,IATA,kBASA;IACA;MACAC,cADA;MAEAC;QACAC,SACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,EACA,EADA,CADA;QAIAC,WACA;UACAC,oBADA;UAEAL,qBAFA;UAGAM,kBACA,yBADA,EAEA,yBAFA,EAGA,yBAHA,EAIA,yBAJA,EAKA,0BALA,EAMA,yBANA,CAHA;UAWAC;QAXA,CADA;MAJA,CAFA;MAsBAC;QACAC;UACAC,QACA;YACAC;cACAC,aADA;cAEAC;YAFA;UADA,CADA,CADA;UASAC,QACA;YACAC;cACAC,iBADA;cAEAC;YAFA;UADA,CADA;QATA;MADA;IAtBA;EA2CA,CArDA;EAsDAC;IACAC,iBADA,+BACA;MAAA;;MACA;;MACA;QACAC;MACA;;MACA;MACAC;QAAA;;QACA,gHACArB;UAAA;QAAA,YADA,GADA,CAIA;;MACA,CALA;IAMA;EAbA,CAtDA;EAqEAsB,OArEA,qBAqEA;IACA;IACA;EACA;AAxEA","names":["extends","mixins","name","props","val","type","data","weightData","chartData","labels","datasets","label","backgroundColor","borderWidth","options","scales","xAxes","scaleLabel","display","labelString","yAxes","ticks","beginAtZero","stepSize","methods","getWorkoutRecords","endpoint","apiService","mounted"],"sourceRoot":"src/views","sources":["WeightChart.vue"],"sourcesContent":["<script>\nimport { Bar, mixins } from \"vue-chartjs\";\nimport { apiService } from \"../common/api.service.js\";\n\nexport default {\n  extends: Bar,\n  mixins: [mixins.reactiveData],\n  name: \"MyChart\",\n  props: {\n    val: {\n      type: Number,\n    },\n  },\n  data() {\n    return {\n      weightData: [],\n      chartData: {\n        labels: [\n          1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,\n        ],\n        datasets: [\n          {\n            label: \"Bar Dataset\",\n            data: this.weightData,\n            backgroundColor: [\n              \"rgba(255, 99, 132, 0.2)\",\n              \"rgba(54, 162, 235, 0.2)\",\n              \"rgba(255, 206, 86, 0.2)\",\n              \"rgba(75, 192, 192, 0.2)\",\n              \"rgba(153, 102, 255, 0.2)\",\n              \"rgba(255, 159, 64, 0.2)\",\n            ],\n            borderWidth: 1,\n          },\n        ],\n      },\n      options: {\n        scales: {\n          xAxes: [\n            {\n              scaleLabel: {\n                display: true,\n                labelString: \"1セットあたりの回数(過去20セット)\",\n              },\n            },\n          ],\n          yAxes: [\n            {\n              ticks: {\n                beginAtZero: true,\n                stepSize: 10,\n              },\n            },\n          ],\n        },\n      },\n    };\n  },\n  methods: {\n    getWorkoutRecords() {\n      let endpoint = `/api/workout-records/${this.val}/`;\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loading = true;\n      apiService(endpoint).then((data) => {\n        this.chartData.datasets[1].data.push(\n          ...data.results.map((obj) => obj.weight).reverse()\n        );\n        // console.log(this.chartData.datasets[1].data);\n      });\n    },\n  },\n  mounted() {\n    this.renderChart(this.chartData, this.options);\n    this.getWorkoutRecords();\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}