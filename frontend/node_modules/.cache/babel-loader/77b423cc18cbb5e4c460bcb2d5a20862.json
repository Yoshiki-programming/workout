{"ast":null,"code":"import _asyncToGenerator from \"/Users/yoshiki_work/\\u30DB\\u309A\\u30FC\\u30C8\\u30D5\\u30A9\\u30EA\\u30AA/workout/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.number.constructor.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"RecordEdit\",\n  props: {\n    id: {\n      type: Number,\n      required: false\n    }\n  },\n  data: function data() {\n    return {\n      workout: null,\n      weight: null,\n      reps: null,\n      memo: null\n    };\n  },\n  methods: {\n    onSubmit: function onSubmit() {\n      var _this = this;\n\n      var endpoint = \"/api/workout-records/\".concat(this.id, \"/record/\");\n      var method = \"PUT\";\n      apiService(endpoint, method, {\n        weight: this.weight,\n        reps: this.reps,\n        memo: this.memo\n      }).then(function () {\n        _this.$router.push({\n          name: \"home\"\n        });\n      });\n    }\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var endpoint, data;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(to.params.id !== undefined)) {\n                _context.next = 8;\n                break;\n              }\n\n              endpoint = \"/api/workout-records/\".concat(_this2.id, \"/record/\");\n              _context.next = 4;\n              return apiService(endpoint);\n\n            case 4:\n              data = _context.sent;\n              return _context.abrupt(\"return\", next(function (vm) {\n                vm.workout = data.workout, vm.weight = data.weight, vm.reps = data.reps, vm.memo = data.memo;\n              }));\n\n            case 8:\n              return _context.abrupt(\"return\", next());\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  created: function created() {\n    document.title = \"記録 - 編集\";\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;AAiBA;AAEA;EACAA,kBADA;EAEAC;IACAC;MACAC,YADA;MAEAC;IAFA;EADA,CAFA;EAQAC,IARA,kBAQA;IACA;MACAC,aADA;MAEAC,YAFA;MAGAC,UAHA;MAIAC;IAJA;EAMA,CAfA;EAgBAC;IACAC,QADA,sBACA;MAAA;;MACA;MACA;MACAC;QACAL,mBADA;QAEAC,eAFA;QAGAC;MAHA,GAIAI,IAJA,CAIA;QACA;UACAb;QADA;MAGA,CARA;IASA;EAbA,CAhBA;EA+BAc,gBA/BA,4BA+BAC,EA/BA,EA+BAC,IA/BA,EA+BAC,IA/BA,EA+BA;IAAA;;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA,MACAF,0BADA;gBAAA;gBAAA;cAAA;;cAEAG,QAFA,kCAEA,SAFA;cAAA;cAAA,OAGAN,oBAHA;;YAAA;cAGAP,IAHA;cAAA,iCAIAY;gBACAE,2BACAA,uBADA,EAEAA,mBAFA,EAGAA,mBAHA;cAIA,CALA,CAJA;;YAAA;cAAA,iCAWAF,MAXA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAaA,CA5CA;EA6CAG,OA7CA,qBA6CA;IACAC;EACA;AA/CA","names":["name","props","id","type","required","data","workout","weight","reps","memo","methods","onSubmit","apiService","then","beforeRouteEnter","to","from","next","endpoint","vm","created","document"],"sourceRoot":"src/views","sources":["MyWorkoutRecordEdit.vue"],"sourcesContent":["<template>\n  <div>\n    <v-container style=\"size: 150px\">\n      <form @submit.prevent=\"onSubmit\">\n        <v-text-field v-model=\"workout\" label=\"メニュー\"> </v-text-field>\n        <v-text-field v-model=\"weight\" label=\"重さ\"> </v-text-field>\n\n        <v-text-field v-model=\"reps\" label=\"回数\" required></v-text-field>\n\n        <v-textarea v-model=\"memo\" label=\"メモ\"></v-textarea>\n        <v-btn color=\"success\" type=\"submit\">編集を保存</v-btn>\n      </form>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport { apiService } from \"../common/api.service.js\";\n\nexport default {\n  name: \"RecordEdit\",\n  props: {\n    id: {\n      type: Number,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      workout: null,\n      weight: null,\n      reps: null,\n      memo: null,\n    };\n  },\n  methods: {\n    onSubmit() {\n      let endpoint = `/api/workout-records/${this.id}/record/`;\n      let method = \"PUT\";\n      apiService(endpoint, method, {\n        weight: this.weight,\n        reps: this.reps,\n        memo: this.memo,\n      }).then(() => {\n        this.$router.push({\n          name: \"home\",\n        });\n      });\n    },\n  },\n  async beforeRouteEnter(to, from, next) {\n    if (to.params.id !== undefined) {\n      let endpoint = `/api/workout-records/${this.id}/record/`;\n      let data = await apiService(endpoint);\n      return next((vm) => {\n        (vm.workout = data.workout),\n          (vm.weight = data.weight),\n          (vm.reps = data.reps),\n          (vm.memo = data.memo);\n      });\n    } else {\n      return next();\n    }\n  },\n  created() {\n    document.title = \"記録 - 編集\";\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}